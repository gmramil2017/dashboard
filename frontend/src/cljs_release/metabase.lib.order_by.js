var window=global;var $CLJS=require("./cljs_env.js");require("./cljs.core.js");require("./metabase.lib.aggregation.js");require("./metabase.lib.breakout.js");require("./metabase.lib.dispatch.js");require("./metabase.lib.equality.js");require("./metabase.lib.hierarchy.js");require("./metabase.lib.metadata.js");require("./metabase.lib.metadata.calculation.js");require("./metabase.lib.options.js");require("./metabase.lib.ref.js");require("./metabase.lib.schema.js");require("./metabase.lib.schema.expression.js");require("./metabase.lib.schema.order_by.js");require("./metabase.lib.util.js");require("./metabase.mbql.util.match.js");require("./metabase.shared.util.i18n.js");require("./metabase.util.malli.js");
'use strict';var A7=new $CLJS.N("metabase.lib.order-by","order-by-clause","metabase.lib.order-by/order-by-clause",774979647);var Pta,Qta,Rta,Sta,Tta;$CLJS.BU($CLJS.KI,A7);$CLJS.BU($CLJS.xI,A7);
$CLJS.Y0.o(null,$CLJS.kR,function(a,b){var c=$CLJS.Vf($CLJS.kR.g($CLJS.s0(a,b)));return $CLJS.m(c)?$CLJS.aH("Sorted by {0}",$CLJS.J([$CLJS.K1($CLJS.bH("and"),function(){return function f(e){return new $CLJS.Af(null,function(){for(;;){var g=$CLJS.A(e);if(g){if($CLJS.re(g)){var l=$CLJS.$c(g),n=$CLJS.E(l),q=$CLJS.Df(n);a:for(var u=0;;)if(u<n){var v=$CLJS.be(l,u);v=$CLJS.z0.C(a,b,v,$CLJS.A0);q.add(v);u+=1}else{l=!0;break a}return l?$CLJS.If($CLJS.Kf(q),f($CLJS.ad(g))):$CLJS.If($CLJS.Kf(q),null)}q=$CLJS.C(g);
return $CLJS.pf($CLJS.z0.C(a,b,q,$CLJS.A0),f($CLJS.zd(g)))}return null}},null,null)}(c)}())])):null});$CLJS.V0.o(null,A7,function(a,b,c,d){var e=$CLJS.K(c,0,null);$CLJS.K(c,1,null);c=$CLJS.K(c,2,null);a=$CLJS.z0.C(a,b,c,d);e=e instanceof $CLJS.N?e.N:null;switch(e){case "asc":return $CLJS.aH("{0} ascending",$CLJS.J([a]));case "desc":return $CLJS.aH("{0} descending",$CLJS.J([a]));default:throw Error(["No matching clause: ",$CLJS.p.g(e)].join(""));}});
$CLJS.a1.o(null,A7,function(a,b,c){var d=$CLJS.K(c,0,null);$CLJS.K(c,1,null);c=$CLJS.K(c,2,null);return $CLJS.U.j($CLJS.C0.j(a,b,c),$CLJS.L0,d)});Pta=$CLJS.ij.g($CLJS.P);Qta=$CLJS.ij.g($CLJS.P);Rta=$CLJS.ij.g($CLJS.P);Sta=$CLJS.ij.g($CLJS.P);Tta=$CLJS.M.j(new $CLJS.k(null,1,[$CLJS.Vk,$CLJS.MG],null),$CLJS.Vk,$CLJS.rj.A?$CLJS.rj.A():$CLJS.rj.call(null));$CLJS.B7=new $CLJS.Aj($CLJS.$i.h("metabase.lib.order-by","order-by-clause-method"),$CLJS.LG,$CLJS.Uj,Tta,Pta,Qta,Rta,Sta);$CLJS.B7.o(null,A7,function(a){return $CLJS.vV(a)});
$CLJS.B7.o(null,$CLJS.Uj,function(a){if(null==a)throw $CLJS.Ej($CLJS.bH("Can''t order by nil"),$CLJS.P);return $CLJS.vV(new $CLJS.R(null,2,5,$CLJS.S,[$CLJS.KI,$CLJS.wV(a)],null))});$CLJS.C7=new $CLJS.k(null,2,[$CLJS.KI,$CLJS.xI,$CLJS.xI,$CLJS.KI],null);