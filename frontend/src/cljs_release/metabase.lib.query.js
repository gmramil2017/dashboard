var window=global;var $CLJS=require("./cljs_env.js");require("./cljs.core.js");require("./metabase.lib.convert.js");require("./metabase.lib.dispatch.js");require("./metabase.lib.hierarchy.js");require("./metabase.lib.metadata.js");require("./metabase.lib.metadata.calculation.js");require("./metabase.lib.normalize.js");require("./metabase.lib.schema.js");require("./metabase.lib.schema.id.js");require("./metabase.lib.util.js");require("./metabase.shared.util.i18n.js");require("./metabase.util.log.js");require("./metabase.util.malli.js");
'use strict';var w3;$CLJS.v3=function(a){if(null!=a&&null!=a.Vg)a=a.Vg(a);else{var b=$CLJS.v3[$CLJS.Na(null==a?null:a)];if(null!=b)a=b.g?b.g(a):b.call(null,a);else if(b=$CLJS.v3._,null!=b)a=b.g?b.g(a):b.call(null,a);else throw $CLJS.Ob("MetadataProvider.database",a);}return a};
w3=function(a,b){if(null!=a&&null!=a.Wg)a=a.Wg(a,b);else{var c=w3[$CLJS.Na(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=w3._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $CLJS.Ob("MetadataProvider.field",a);}return a};$CLJS.x3=function(a,b){return w3($CLJS.v0(a),b)};$CLJS.y3=function(a,b,c,d){d=$CLJS.mn.l($CLJS.J([new $CLJS.k(null,1,[$CLJS.R0,$CLJS.G2()],null),d]));return $CLJS.b1.C(a,b,c,d)};
$CLJS.z3=function(a,b){var c=$CLJS.Lk.g($CLJS.v3($CLJS.v0(a)));return new $CLJS.k(null,4,[$CLJS.wl,$CLJS.lZ,$CLJS.RY,$CLJS.v0(a),$CLJS.YP,c,$CLJS.yY,b],null)};$CLJS.u3.o(null,$CLJS.lZ,function(a){return $CLJS.t3(a,new $CLJS.k(null,2,[$CLJS.al,$CLJS.Ui,$CLJS.yY,$CLJS.fg($CLJS.Vm,$CLJS.u3)],null))});$CLJS.y0.o(null,$CLJS.lZ,function(){throw $CLJS.Ej("You can't calculate a metadata map for a query! Use lib.metadata.calculation/returned-columns-method instead.",$CLJS.P);});$CLJS.b1.o(null,$CLJS.lZ,function(a,b,c,d){return $CLJS.y3(a,b,$CLJS.s0(c,b),d)});$CLJS.V0.o(null,$CLJS.lZ,function(a,b,c,d){return $CLJS.z0.C(a,b,$CLJS.s0(c,b),d)});
$CLJS.A3=function(){var a=$CLJS.ij.g($CLJS.P),b=$CLJS.ij.g($CLJS.P),c=$CLJS.ij.g($CLJS.P),d=$CLJS.ij.g($CLJS.P),e=$CLJS.M.j(new $CLJS.k(null,1,[$CLJS.Vk,$CLJS.MG],null),$CLJS.Vk,$CLJS.rj.A?$CLJS.rj.A():$CLJS.rj.call(null));return new $CLJS.Aj($CLJS.$i.h("metabase.lib.query","-\x3equery"),function(f,g){return $CLJS.LG(g)},$CLJS.Uj,e,a,b,c,d)}();$CLJS.A3.o(null,$CLJS.HF,function(a,b){b=$CLJS.H_(b);return $CLJS.z3(a,$CLJS.yY.g(b))});
$CLJS.A3.o(null,$CLJS.lZ,function(a,b){return $CLJS.U.j(b,$CLJS.RY,$CLJS.v0(a))});$CLJS.A3.o(null,$CLJS.L_,function(a,b){return $CLJS.z3(a,new $CLJS.R(null,1,5,$CLJS.S,[new $CLJS.k(null,2,[$CLJS.wl,$CLJS.bZ,$CLJS.kP,$CLJS.Lk.g(b)],null)],null))});