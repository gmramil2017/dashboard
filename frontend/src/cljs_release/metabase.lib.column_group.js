var window=global;var $CLJS=require("./cljs_env.js");require("./cljs.core.js");require("./metabase.lib.join.js");require("./metabase.lib.metadata.js");require("./metabase.lib.metadata.calculation.js");require("./metabase.lib.schema.common.js");require("./metabase.lib.schema.id.js");require("./metabase.lib.util.js");require("./metabase.util.malli.js");
'use strict';var lra,mra;lra=function(a,b,c){var d=$CLJS.s0(a,b);d=$CLJS.Uf(d);d=$CLJS.M.h(d,$CLJS.fO);var e=$CLJS.LV(function(f){return $CLJS.F.h($CLJS.qI.g(f),c)},d);if($CLJS.m(e))return e;throw $CLJS.Ej($CLJS.aH("No join named {0}, found: {1}",$CLJS.J([$CLJS.gj.l($CLJS.J([c])),$CLJS.gj.l($CLJS.J([$CLJS.Vm.h($CLJS.qI,d)]))])),new $CLJS.k(null,3,[$CLJS.yP,c,$CLJS.GN,a,$CLJS.N0,b],null));};$CLJS.O3=new $CLJS.N("metabase.lib.column-group","group-type","metabase.lib.column-group/group-type",6276454);
$CLJS.P3=new $CLJS.N("metadata","column-group","metadata/column-group",-902258024);mra=new $CLJS.N(null,"fk-reference-name","fk-reference-name",74295339);$CLJS.Q3=new $CLJS.N("metabase.lib.column-group","columns","metabase.lib.column-group/columns",1229087729);$CLJS.nra=new $CLJS.N("group-type","main","group-type/main",-938346573);$CLJS.ora=new $CLJS.N("group-type","join.implicit","group-type/join.implicit",-684408229);
$CLJS.pra=new $CLJS.N("group-type","join.explicit","group-type/join.explicit",-627022785);$CLJS.y0.o(null,$CLJS.P3,function(a,b,c){return c});
$CLJS.a1.o(null,$CLJS.P3,function(a,b,c){var d=$CLJS.O3.g(c);d=d instanceof $CLJS.N?d.N:null;switch(d){case "group-type/main":return $CLJS.mn.l($CLJS.J([function(){var e=$CLJS.s0(a,b),f=function(){var g=$CLJS.kP.g(e);g=null==g?null:$CLJS.w0(a,g);return $CLJS.m(g)?$CLJS.C0.j(a,b,g):null}();if($CLJS.m(f))return f;f=function(){var g=$CLJS.XY.g(e);g=null==g?null:$CLJS.x0(a,g);return $CLJS.m(g)?$CLJS.C0.j(a,b,g):null}();if($CLJS.m(f))return f;f=$CLJS.D($CLJS.yY.g(a))?new $CLJS.k(null,1,[$CLJS.YH,""],null):
null;return $CLJS.m(f)?f:new $CLJS.k(null,1,[$CLJS.YH,$CLJS.z0.j(a,b,e)],null)}(),new $CLJS.k(null,2,[$CLJS.E0,!1,$CLJS.G0,!1],null)]));case "group-type/join.explicit":return $CLJS.mn.l($CLJS.J([function(){var e=$CLJS.yP.g(c);e=lra(a,b,e);return $CLJS.m(e)?$CLJS.C0.j(a,b,e):null}(),new $CLJS.k(null,2,[$CLJS.E0,!0,$CLJS.G0,!1],null)]));case "group-type/join.implicit":return $CLJS.mn.l($CLJS.J([function(){var e=$CLJS.vQ.g(c);e=$CLJS.x3(a,e);return $CLJS.m(e)?(e=$CLJS.C0.j(a,b,e),$CLJS.U.j(e,mra,(0,$CLJS.Ca)($CLJS.zu($CLJS.YH.g(e),
$CLJS.Q_,"")))):null}(),new $CLJS.k(null,2,[$CLJS.E0,!1,$CLJS.G0,!0],null)]));default:throw Error(["No matching clause: ",$CLJS.p.g(d)].join(""));}});