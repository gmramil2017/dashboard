var window=global;var $CLJS=require("./cljs_env.js");require("./cljs.core.js");require("./clojure.string.js");require("./metabase.lib.dispatch.js");require("./metabase.lib.hierarchy.js");require("./metabase.lib.schema.common.js");require("./metabase.lib.schema.expression.js");require("./metabase.lib.schema.id.js");require("./metabase.lib.schema.mbql_clause.js");require("./metabase.lib.schema.temporal_bucketing.js");require("./metabase.types.js");require("./metabase.util.malli.registry.js");
'use strict';var mV=new $CLJS.N("metabase.lib.schema.ref","aggregation-options","metabase.lib.schema.ref/aggregation-options",-15566487),nV=new $CLJS.N("metabase.lib.schema.ref","field.options","metabase.lib.schema.ref/field.options",408316031),oV=new $CLJS.N("metabase.lib.schema.ref","field.literal","metabase.lib.schema.ref/field.literal",-1228060748),pV=new $CLJS.N("metabase.lib.schema.ref","field.id","metabase.lib.schema.ref/field.id",-956546909),qV=new $CLJS.N("metabase.lib.schema.ref","field.literal.options",
"metabase.lib.schema.ref/field.literal.options",-860446668);$CLJS.rK(nV,new $CLJS.R(null,3,5,$CLJS.S,[$CLJS.Qt,$CLJS.DK,new $CLJS.R(null,2,5,$CLJS.S,[$CLJS.bm,new $CLJS.R(null,3,5,$CLJS.S,[$CLJS.bQ,new $CLJS.k(null,1,[$CLJS.Wj,!0],null),$CLJS.YU],null)],null)],null));$CLJS.rK(qV,new $CLJS.R(null,3,5,$CLJS.S,[$CLJS.Qt,nV,new $CLJS.R(null,2,5,$CLJS.S,[$CLJS.bm,new $CLJS.R(null,2,5,$CLJS.S,[$CLJS.LF,$CLJS.FK],null)],null)],null));$CLJS.rK(oV,new $CLJS.R(null,4,5,$CLJS.S,[$CLJS.tt,new $CLJS.R(null,2,5,$CLJS.S,[$CLJS.lm,$CLJS.PP],null),qV,$CLJS.zK],null));
$CLJS.rK(pV,new $CLJS.R(null,4,5,$CLJS.S,[$CLJS.tt,new $CLJS.R(null,2,5,$CLJS.S,[$CLJS.lm,$CLJS.PP],null),nV,$CLJS.yU],null));
$CLJS.IU($CLJS.PP,new $CLJS.R(null,3,5,$CLJS.S,[$CLJS.Qj,new $CLJS.R(null,4,5,$CLJS.S,[$CLJS.tt,new $CLJS.R(null,2,5,$CLJS.S,[$CLJS.lm,$CLJS.PP],null),nV,new $CLJS.R(null,3,5,$CLJS.S,[$CLJS.Gk,$CLJS.yU,$CLJS.zK],null)],null),new $CLJS.R(null,4,5,$CLJS.S,[$CLJS.vt,new $CLJS.k(null,2,[$CLJS.Bk,function(a){return $CLJS.ne(a)?($CLJS.K(a,0,null),$CLJS.K(a,1,null),a=$CLJS.K(a,2,null),$CLJS.LG(a)):null},$CLJS.Wu,"Invalid :field clause ID or name: must be a string or integer"],null),new $CLJS.R(null,2,5,
$CLJS.S,[$CLJS.DF,pV],null),new $CLJS.R(null,2,5,$CLJS.S,[$CLJS.CF,oV],null)],null)],null));$CLJS.BU($CLJS.PP,$CLJS.RU);$CLJS.KK.o(null,$CLJS.PP,function(a){$CLJS.K(a,0,null);var b=$CLJS.K(a,1,null);$CLJS.K(a,2,null);a=$CLJS.Tm.h($CLJS.qk,$CLJS.LF)(b);return $CLJS.m(a)?a:$CLJS.UK});$CLJS.MU($CLJS.IF,$CLJS.J([$CLJS.zK]));$CLJS.KK.o(null,$CLJS.IF,function(a){$CLJS.K(a,0,null);var b=$CLJS.K(a,1,null);$CLJS.K(a,2,null);a=$CLJS.Tm.h($CLJS.qk,$CLJS.LF)(b);return $CLJS.m(a)?a:$CLJS.UK});
$CLJS.BU($CLJS.IF,$CLJS.RU);$CLJS.rK(mV,new $CLJS.R(null,3,5,$CLJS.S,[$CLJS.Qt,$CLJS.DK,new $CLJS.R(null,3,5,$CLJS.S,[$CLJS.bm,new $CLJS.R(null,3,5,$CLJS.S,[$CLJS.V,new $CLJS.k(null,1,[$CLJS.Wj,!0],null),$CLJS.zK],null),new $CLJS.R(null,3,5,$CLJS.S,[$CLJS.YH,new $CLJS.k(null,1,[$CLJS.Wj,!0],null),$CLJS.zK],null)],null)],null));$CLJS.IU($CLJS.ZO,new $CLJS.R(null,4,5,$CLJS.S,[$CLJS.tt,new $CLJS.R(null,2,5,$CLJS.S,[$CLJS.lm,$CLJS.ZO],null),mV,$CLJS.Tl],null));
$CLJS.KK.o(null,$CLJS.ZO,function(a){$CLJS.K(a,0,null);var b=$CLJS.K(a,1,null);$CLJS.K(a,2,null);a=$CLJS.Tm.h($CLJS.qk,$CLJS.LF)(b);return $CLJS.m(a)?a:$CLJS.UK});$CLJS.BU($CLJS.ZO,$CLJS.RU);$CLJS.MU($CLJS.mP,$CLJS.J([$CLJS.hu,$CLJS.UK,new $CLJS.R(null,2,5,$CLJS.S,[$CLJS.hm,new $CLJS.R(null,2,5,$CLJS.S,[$CLJS.nq,$CLJS.sU],null)],null)]));$CLJS.BU($CLJS.mP,$CLJS.RU);
$CLJS.rK($CLJS.RU,new $CLJS.R(null,3,5,$CLJS.S,[$CLJS.Qj,$CLJS.MK,new $CLJS.R(null,3,5,$CLJS.S,[$CLJS.pt,new $CLJS.k(null,1,[$CLJS.Yu,function(){return["Valid reference, must be one of these clauses: ",$CLJS.Uu.h(", ",$CLJS.Qe($CLJS.Me,$CLJS.qn.h($CLJS.r($CLJS.MG),$CLJS.RU)))].join("")}],null),function(a){a=$CLJS.K(a,0,null);return $CLJS.sj($CLJS.r($CLJS.MG),a,$CLJS.RU)}],null)],null));