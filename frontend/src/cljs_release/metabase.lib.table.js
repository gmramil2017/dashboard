var window=global;var $CLJS=require("./cljs_env.js");require("./cljs.core.js");require("./metabase.lib.join.js");require("./metabase.lib.metadata.js");require("./metabase.lib.metadata.calculation.js");require("./metabase.lib.util.js");require("./metabase.shared.util.i18n.js");require("./metabase.util.js");require("./metabase.util.humanization.js");
'use strict';var gua,T7,hua,iua,nua,pua;gua=function(a,b){return $CLJS.uZ(a,b)};T7=function(a,b){if(null!=a&&null!=a.Xg)a=a.Xg(a,b);else{var c=T7[$CLJS.Na(null==a?null:a)];if(null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else if(c=T7._,null!=c)a=c.h?c.h(a,b):c.call(null,a,b);else throw $CLJS.Ob("MetadataProvider.fields",a);}return a};hua=function(a,b){return T7($CLJS.v0(a),b)};
iua=function(a,b){return $CLJS.Fb(b)?a:$CLJS.Vm.h(function(c){if($CLJS.m($CLJS.E3(c))){$CLJS.K(c,0,null);$CLJS.K(c,1,null);$CLJS.K(c,2,null);var d=$CLJS.K(c,3,null)}else d=null;d=$CLJS.m(d)?$CLJS.m($CLJS.C3(d))?null:$CLJS.F3(c,$CLJS.J([b])):null;return $CLJS.m(d)?d:c},a)};$CLJS.U7=function(a,b){b=iua($CLJS.Vm.h($CLJS.zV,b),$CLJS.C3(a));return $CLJS.sV(a,$CLJS.BY,$CLJS.Vf(b))};
$CLJS.V7=function(a,b){b=b instanceof $CLJS.N?b:$CLJS.F.h(b,$CLJS.Rg)?$CLJS.Lu:$CLJS.Vf($CLJS.th.j($CLJS.Rg,$CLJS.Rm.h($CLJS.xg.g($CLJS.wV),function(){var c=$CLJS.C3(a);return $CLJS.m(c)?$CLJS.xg.g(function(d){return $CLJS.D3(d,c)}):$CLJS.Ze}()),b));return $CLJS.sV(a,$CLJS.AH,b)};
nua=function(a){return $CLJS.Um.h(function(b){var c=$CLJS.Uf(b);b=$CLJS.M.h(c,jua);c=$CLJS.M.h(c,kua);if(b=!1===b)return b;b=null==c?null:$CLJS.Ui.g(c);c=new $CLJS.ti(null,new $CLJS.k(null,2,[lua,null,mua,null],null),null);return c.g?c.g(b):c.call(null,b)},a)};pua=function(a){return gua(function(b){var c=$CLJS.Uf(b);b=$CLJS.M.h(c,$CLJS.V);c=$CLJS.M.h(c,oua);return new $CLJS.R(null,2,5,$CLJS.S,[$CLJS.m(c)?c:0,$CLJS.tF($CLJS.m(b)?b:"")],null)},a)};
$CLJS.W7=function W7(a){switch(arguments.length){case 1:return W7.g(arguments[0]);case 2:return W7.h(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$CLJS.p.g(arguments.length)].join(""));}};$CLJS.W7.g=function(a){return $CLJS.V4($CLJS.N3.g(a),$CLJS.AH,$CLJS.ID)};$CLJS.W7.h=function(a,b){return $CLJS.U7($CLJS.W7.g(a),b)};$CLJS.W7.v=2;
var oua=new $CLJS.N(null,"position","position",-2011731912),lua=new $CLJS.N(null,"retired","retired",-334274397),kua=new $CLJS.N(null,"visibility-type","visibility-type",1708521558),jua=new $CLJS.N(null,"active","active",1895962068),qua=new $CLJS.N("metabase.lib.table","join-fields","metabase.lib.table/join-fields",17340333),mua=new $CLJS.N(null,"sensitive","sensitive",1953854922),rua=new $CLJS.N("metabase.lib.table","join-alias","metabase.lib.table/join-alias",-1021212739);$CLJS.V0.o(null,$CLJS.L_,function(a,b,c){a=$CLJS.YH.g(c);if($CLJS.m(a))return a;c=$CLJS.V.g(c);return null==c?null:$CLJS.Y4.h($CLJS.X4,c)});$CLJS.y0.o(null,$CLJS.L_,function(a,b,c){return c});$CLJS.Y0.o(null,$CLJS.kP,function(a,b){var c=$CLJS.s0(a,b);c=$CLJS.Uf(c);c=$CLJS.M.h(c,$CLJS.kP);if($CLJS.m(c)){var d=$CLJS.w0(a,c);a=$CLJS.m(d)?$CLJS.z0.C(a,b,d,$CLJS.A0):null;return $CLJS.m(a)?a:$CLJS.aH("Table {0}",$CLJS.J([$CLJS.gj.l($CLJS.J([c]))]))}return null});
$CLJS.b1.o(null,$CLJS.L_,function(a,b,c,d){b=$CLJS.Uf(d);var e=$CLJS.M.h(b,$CLJS.R0);a=hua(a,$CLJS.Lk.g(c));return $CLJS.m(a)?$CLJS.xg.h(function(f){var g=$CLJS.U.l,l=$CLJS.V.g(f);var n=$CLJS.V.g(f);n=$CLJS.m(n)?n:"";n=e.g?e.g(n):e.call(null,n);return g.call($CLJS.U,f,$CLJS.J_,$CLJS.W_,$CLJS.J([$CLJS.T_,l,$CLJS.$_,n]))},pua(nua(a))):null});
$CLJS.N3.o(null,$CLJS.L_,function(a){var b=$CLJS.Uf(a),c=$CLJS.M.h(b,rua);a=$CLJS.M.h(b,qua);b=$CLJS.W7.g(new $CLJS.k(null,3,[$CLJS.wl,$CLJS.bZ,$CLJS.MF,new $CLJS.k(null,1,[$CLJS.EK,$CLJS.p.g($CLJS.IK())],null),$CLJS.kP,$CLJS.Lk.g(b)],null));c=$CLJS.m(c)?$CLJS.D3(b,c):b;return $CLJS.m(a)?$CLJS.V7(c,a):c});